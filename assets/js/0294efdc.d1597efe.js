"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[124],{6745:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>o});var s=n(4848),a=n(8453);const i={},c="Customizing the User Interface (UI)",l={id:"authenticate/ui-features",title:"Customizing the User Interface (UI)",description:"The user interface (UI) can be setup the use custom templates or",source:"@site/docs/authenticate/55-ui-features.md",sourceDirName:"authenticate",slug:"/authenticate/ui-features",permalink:"/docs/authenticate/ui-features",draft:!1,unlisted:!1,editUrl:"https://github.com/authcrunch/authcrunch.github.io/edit/main/docs/authenticate/55-ui-features.md",tags:[],version:"current",sidebarPosition:55,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Usage Examples",permalink:"/docs/authenticate/usage-examples"},next:{title:"Local Configuration",permalink:"/docs/authenticate/local/local"}},r={},o=[{value:"Templates",id:"templates",level:2},{value:"Defining another theme",id:"defining-another-theme",level:3},{value:"Creating a new theme",id:"creating-a-new-theme",level:3},{value:"Overriding a specific page template",id:"overriding-a-specific-page-template",level:3},{value:"Other customization",id:"other-customization",level:2},{value:"Portal Links",id:"portal-links",level:3},{value:"Cascading Style Sheets (CSS)",id:"cascading-style-sheets-css",level:3},{value:"JavaScript",id:"javascript",level:3},{value:"Custom HTML Template Header",id:"custom-html-template-header",level:3},{value:"Other Static Assets",id:"other-static-assets",level:3}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"customizing-the-user-interface-ui",children:"Customizing the User Interface (UI)"}),"\n",(0,s.jsx)(t.p,{children:"The user interface (UI) can be setup the use custom templates or\nthe UI can be customized and altered with custom Cascading Style\nSheets (CSS), JavaScripts and other assets."}),"\n",(0,s.jsx)(t.h2,{id:"templates",children:"Templates"}),"\n",(0,s.jsx)(t.h3,{id:"defining-another-theme",children:"Defining another theme"}),"\n",(0,s.jsxs)(t.p,{children:["A custom HTML theme can be defined in the ",(0,s.jsx)(t.strong,{children:"global options block"})," of the ",(0,s.jsx)(t.code,{children:"Caddyfile"}),".\nThe theme name is set in the ",(0,s.jsx)(t.strong,{children:"ui"})," block that is nested in the\n",(0,s.jsx)(t.strong,{children:"authentication portal"})," of the ",(0,s.jsx)(t.strong,{children:"security"})," block as shown below."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"{\n  security {\n    authentication portal myportal {\n      ui {\n        theme basic\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Defining a theme is optional, by default the ",(0,s.jsx)(t.code,{children:"basic"})," theme is used."]}),"\n",(0,s.jsx)(t.h3,{id:"creating-a-new-theme",children:"Creating a new theme"}),"\n",(0,s.jsxs)(t.p,{children:["Every template has its own folder in the ",(0,s.jsx)(t.code,{children:"assets"})," folder. The folder name\nshould equal the name of the theme. For example the basic template files\nare located in the folder ",(0,s.jsx)(t.code,{children:"assets/templates/basic/"}),". For reference and as\nan example the basic template files can be found here ",(0,s.jsx)(t.a,{href:"https://github.com/greenpau/go-authcrunch/tree/main/assets/portal/templates/basic",children:"https://github.com/greenpau/go-authcrunch/tree/main/assets/portal/templates/basic"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Every template folder should include at least the following files:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"generic.template\nlogin.template\nportal.template\nregister.template\nwhoami.template\nsettings.template\nsandbox.template\n"})}),"\n",(0,s.jsxs)(t.p,{children:["These template engine used is based on the Go library ",(0,s.jsx)(t.code,{children:"pkg/ui/pages.go"}),".\nThe files template files are compiled in the portal's binary."]}),"\n",(0,s.jsx)(t.h3,{id:"overriding-a-specific-page-template",children:"Overriding a specific page template"}),"\n",(0,s.jsxs)(t.p,{children:["When using the a theme you can also override one specific page template\nas well. The example for that is shown below where the usage is:\n",(0,s.jsx)(t.code,{children:"template <PAGE_NAME> <FILEPATH>"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"{\n  security {\n    authentication portal myportal {\n      ui {\n        theme basic\n        template login {env.HOME}/.local/caddy/ui/login.template\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"other-customization",children:"Other customization"}),"\n",(0,s.jsx)(t.h3,{id:"portal-links",children:"Portal Links"}),"\n",(0,s.jsx)(t.p,{children:"The following Caddyfile directive sets links that a user would see\nupon a successful login:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'{\n  security {\n    authentication portal myportal {\n      ui {\n        links {\n          "Prometheus" /prometheus\n          "Alertmanager" /alertmanager\n          "My App" /myapp\n        }\n      }\n    }\n  }\n}\n\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The link can be opened in a new tab or window via ",(0,s.jsx)(t.code,{children:"target_blank"})," argument:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'          "My App" /myapp target_blank\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The link can be disabled with ",(0,s.jsx)(t.code,{children:"disabled"})," argument:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'          "My App" /myapp disabled\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The link can have an icon associated with it via ",(0,s.jsx)(t.code,{children:"icon"})," argument:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'          "My App" /myapp icon "las la-cog"\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The icon is the reference to ",(0,s.jsx)(t.a,{href:"https://icons8.com/line-awesome",children:"Line Awesome"})," by Icon8."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Portal - UI - Icons",src:n(346).A+"",width:"444",height:"407"})}),"\n",(0,s.jsx)(t.h3,{id:"cascading-style-sheets-css",children:"Cascading Style Sheets (CSS)"}),"\n",(0,s.jsxs)(t.p,{children:["The following Caddyfile directive adds a custom CSS stylesheet to the\nplugin's pages. The stylesheet is available under ",(0,s.jsx)(t.code,{children:"auth/assets/css/custom.css"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"{\n  security {\n    authentication portal myportal {\n      ui {\n        custom css path {env.HOME}/.local/caddy/ui/custom/styles.css\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,s.jsx)(t.p,{children:"Adding custom JavaScript can for example be useful for adding\nAnalytics tools or other JavaScript."}),"\n",(0,s.jsxs)(t.p,{children:["The following Caddyfile directive adds a custom JavaScript to the\nplugin's pages. The script is available under ",(0,s.jsx)(t.code,{children:"auth/assets/js/custom.js"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"{\n  security {\n    authentication portal myportal {\n      ui {\n        custom js path {env.HOME}/.local/caddy/ui/custom/script.js\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"The injected code will be a part of all portal pages."}),"\n",(0,s.jsx)(t.p,{children:"Please see these references for usage patterns:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Solution Brief A00002 ",(0,s.jsx)(t.a,{href:"https://github.com/greenpau/caddy-auth-docs/blob/main/assets/solutions/A00002/Caddyfile",children:(0,s.jsx)(t.code,{children:"Caddyfile"})}),"\nand ",(0,s.jsx)(t.a,{href:"https://github.com/greenpau/caddy-auth-docs/blob/main/assets/solutions/A00002/custom.js",children:(0,s.jsx)(t.code,{children:"custom.js"})})]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"custom-html-template-header",children:"Custom HTML Template Header"}),"\n",(0,s.jsxs)(t.p,{children:["The following Caddyfile directive injects the code found in ",(0,s.jsx)(t.code,{children:"path/to/head.html"}),"\nto ",(0,s.jsx)(t.code,{children:"<head>"})," section of the portal's pages:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"{\n  security {\n    authentication portal myportal {\n      ui {\n        custom html header path {env.HOME}/.local/caddy/ui/custom/head.html\n      }\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(t.h3,{id:"other-static-assets",children:"Other Static Assets"}),"\n",(0,s.jsx)(t.p,{children:"The following Caddyfile directive loads any other asset for\nstatic file serving such as jpg, png et cetera."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'      ui {\n        static_asset "assets/css/app.css" "text/css" /path/to/app/styles.css\n      }\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The above configuration would cause the plugin to read ",(0,s.jsx)(t.code,{children:"/path/to/app/styles.css"}),"\nand begin serving it with content type of ",(0,s.jsx)(t.code,{children:"text/css"})," at\n",(0,s.jsx)(t.code,{children:"AUTH_PORTAL/assets/css/app.css"}),", e.g. ",(0,s.jsx)(t.code,{children:"https://localhost/auth/assets/css/app.css"}),"."]})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},346:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/portal_ui_icons-37be64e60f3db1866802dc8e58004d6f.png"},8453:(e,t,n)=>{n.d(t,{R:()=>c,x:()=>l});var s=n(6540);const a={},i=s.createContext(a);function c(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);